import RocksmithPsarcIndex
import Test.Hspec

main = hspec $ do
  describe "selectZipLengths" $ do
    it "uses indicies to group elements" $
      map length (selectZipLengths indices testZipLengths) `shouldBe` [1,1,2,2,8,1,17]

--it should deal with seek failure

indices = [0,1,2,4,6,14,15]
testZipLengths = [268,216,63111,25719,11772,6392,0,0,0,0,0,0,0,10375,6,1298,47710,33971,21069,836,48571,31664,35850,38708,64697,27832,52268,30868,46682,23672,45556,56315]

--[(0,1),(1,1),(2,2),(4,2),(6,8),(14,1),(15,17)]
--[(268,0),(216,16),(63111,17),(25719,18),(11772,19),(6392,20),(0,67),(0,68),(0,69),(0,70),(0,71),(0,72),(0,73),(10375,74),(6,75),(1298,76),(47710,77),(33971,78),(21069,79),(836,80),(48571,81),(31664,82),(35850,83),(38708,84),(64697,85),(27832,86),(52268,87),(30868,88),(46682,89),(23672,90),(45556,91),(56315,92)]
--[(268,0),(216,1),(63111,2),(25719,3),(11772,4),(6392,5),(0,6),(0,7),(0,8),(0,9),(0,10),(0,11),(0,12),(10375,13),(6,14),(1298,15),(47710,16),(33971,17),(21069,18),(836,19),(48571,20),(31664,21),(35850,22),(38708,23),(64697,24),(27832,25),(52268,26),(30868,27),(46682,28),(23672,29),(45556,30),(56315,31)]